<!DOCTYPE html>
<!-- saved from url=(0030)http://yasakacorp.com/tank.htm -->
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>borisx's world of tanks calculators</title>
        <style>
            body{
                background-color: #1C1B16;
                background-image: url(https://sg-wotp.wgcdn.co/static/5.84.0_19f5c5/wotp_static/img/core/frontend/scss/common/blocks/sparkles/img/sparkles.png);
                color: #fff;
                font-family: bebas neue;
                margin: 0;
                font-size: 20px;
                display: flex;
                justify-content: center;
            }
            lower{
                font-size: 20px;
            }
            h1,h2{
                font-weight: 300;
            }
            /* nabar */
            .navbar{
                position: fixed;
                left: 0;
                right: 0;
                top: 0;
                height:70px;
                background-color: rgba(0,0,0,0.4);
                display: flex;
                justify-content: space-around;
            }
            .logo-s{
                flex-grow: 1;
                width: 127px;
                height: 66px;
                background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjcgMjUiIHdpZHRoPSIxMjciIGhlaWdodD0iMjUiPjxwYXRoIGQ9Ik02OC42IDMuN2gtNC4xbC0uMSAxNS45aDMuOWMyLjcgMCAzLjktMi40IDMuOC00LjFWNy43Yy4yLTIuMi0xLjYtNC0zLjUtNHpNNS44IDEuOUwyLjIgNS41aDUuMXYxNC42bDEuOCAxLjggMS44LTEuOFY1LjVoNWwtMy42LTMuNkg1Ljh6bS0uMiA1SDIuMXY4LjJsMi42IDIuNiAyLjUtMi40LTEuNi0xLjVWNi45em0xMi4yIDl2LTExTDEzLjIuNEg0LjlMLjIgNXYxMC45TDkgMjQuNWw4LjgtOC42em0tMTYuNy0uM1Y1LjNsNC4yLTQuMWg3LjRsNC4xIDR2MTAuM2wtNy45IDcuNy03LjgtNy42em0xMS4zLTEuOGwtMS41IDEuNSAyLjQgMi40IDIuNi0yLjZWNi45aC0zLjV2Ni45em01Ni45IDJjMCAuNS0uNC44LS44LjhoLTEuMVY2LjhoMS4xYy40IDAgLjguNC44Ljh2OC4yek01OS40IDMuN2gtM3YxNS45aDd2LTMuMWgtMy45bC0uMS0xMi44em0tMTcuNyAwYy0xLjcgMC0yLjUuOS0zLjEgMS42cy0uOCAxLjgtLjggMi41djcuOWMwIDEuNC41IDIuNCAxLjIgMi45IDEgLjggMS41IDEgMi43IDEuMWguMmMxLjEgMCAxLjgtLjMgMi42LTEgLjMtLjMgMS4yLTEuNCAxLjItMi42di04Yy0uMS0yLjYtMS45LTQuNC00LTQuNHptLjkgMTIuMWMwIC41LS40LjktLjkuOXMtLjktLjQtLjktLjlWNy42YzAtLjUuNC0uOS45LS45cy45LjQuOS45djguMnptMTAuNy0zYy41LS41IDEuMy0xLjUgMS4zLTIuNVY3LjRjLS4zLTIuNC0xLjctMy42LTQuMS0zLjdoLTMuOHYxNS45aDIuOXYtNS43aC44bDEuNiA1LjdoMy4ybC0uMi0uNy0xLjctNi4xem0tMS43LTIuOWMwIC41LS40LjktMSAuOWgtMS4xVjYuOWgxLjRjLjQgMCAuNy40LjcuN3YyLjN6bTI2LjkgMS41Yy4xLTEuNS0xLjQtMi41LTIuNi0yLjUtMS42IDAtMi42IDEuMS0yLjYgMi42djUuM2MtLjEgMS41IDEgMi45IDIuNSAyLjlzMi44LTEuMyAyLjctMi43di01LjZ6bS0yLjEgNS40YzAgLjMtLjIuNS0uNS41cy0uNS0uMi0uNS0uNXYtNS40YzAtLjMuMi0uNS41LS41cy41LjIuNS41djUuNHptNDIuMy0xMy4xSDExNWwtMi4yIDQuNVYzLjhoLTNsLS4xIDE1LjloM1YxM2wyLjYgNi43aDMuNGwtMy44LTkuNCAzLjgtNi42ek03OS42IDE5LjZoMi4ydi00LjRoMnYtMS45aC0yLjF2LTIuMWgyLjhWOS4xaC01bC4xIDEwLjV6bTI2LTguNWwtMi40LTcuM2gtMy4zdjE1LjloMy4xdi03LjZsMi41IDcuNmgzLjF2LTE2aC0zdjcuNHpNOTEuMiA2Ljh2LTNoLTcuOHYzaDIuNHYxMi45aDMuMVY2LjhoMi4zem0xLjYtMy4xdi4ybC0yLjcgMTUuN2gzLjJsLjYtMy43aDEuNmwuNSAzLjdoMy4yTDk2LjUgMy43aC0zLjd6bTEuMiA5LjZsLjYtMy4yLjUgMy4ySDk0em0zMC42LTEuN2MtLjUtLjQtLjgtLjctMS4xLTEtLjMtLjItLjUtLjQtLjgtLjctLjQtLjQtMS4xLTEuMy0xLjEtMS45IDAtLjQtLjEtLjcuMy0xLjEuMi0uMi40LS4zLjYtLjNoLjFjLjMuMS42LjQuNy45bC4yLjkgMy0uNGMwLS4yIDAtMS0uMi0xLjUtLjUtMS4zLTEuNi0yLjMtMi45LTIuNi0uMy0uMS0uNi0uMS0uOS0uMS0uNSAwLTEuMS4xLTEuNy4zLTEgLjQtMi40IDEuOC0yLjMgMy42IDAgLjkgMCAxLjcuNyAyLjcuOSAxLjMgMi4yIDIuNCAzLjUgMy42LjYuNSAxLjEgMS41LjcgMi4zLS4yLjQtLjUuNi0uOC42LS4yIDAtLjQtLjEtLjYtLjMtLjYtLjUtLjUtMS40LS42LTEuOWwtMyAuMWMwIDIgLjkgMy42IDEuOSA0LjRzMyAuOCA0LjIuNGMuOC0uMyAyLjItMS44IDIuNC0zLjUtLjEtMi0xLjMtMy43LTIuMy00LjV6bS05MS4yLTFsLS44LTYuOGgtMy4xbC0uOCA2LjgtLjgtNi44aC0zLjJsMi42IDE1LjloMi45bC45LTUuNyAxIDUuN2gyLjhsMi40LTE1LjloLTMuMmwtLjcgNi44eiIgZmlsbD0iI2NlZDBjZSIvPjwvc3ZnPg==) center no-repeat ;
            }
            .navbar ul{
                flex-grow: 6;
                display: flex;
                width: calc(100%-150px);
                margin: 0;
                padding: 0;
                justify-content: space-between;
            }
            .navbar li{
                flex-grow: 1;
                position: relative;
                list-style: none;
                height: 100%;
                text-align: center;
                transition: background-position .5s;
                background-size: cover !important;
                background-position: 0 40% !important;
                z-index: 1;
                display: flex;
                justify-content: center;
                flex-direction: column;
            }
            .navbar li::before{
                content: '';
                display: block;
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100px;
                transition: background-color .5s;
                background-color: rgba(0,0,0,0.5);
                height: inherit;
                z-index: 2;
            }
            .navbar li:hover{
                cursor: pointer;
                background-position: 0 20% !important;
            }
            .navbar li:hover::before {
                background-color: rgba(0,0,0,0);
            }
            /* end of navbar */
            .container{
                position: fixed;
                top: 80px;
                width: 100%;
                max-width: 1200px;
                text-align: center;
            }
            .progress-bar{
                position: relative;
                flex-basis: 100%;
                margin: 40px 5%;
                height: 13px;
                padding: 2px;
                background: #000;
            }
            .progress-bar .seperator{
                position: absolute;
                content: '';
                box-sizing: border-box;
                border-left: 1px rgba(100,100,100,0.8) solid;
                height: 23px;
                top: -5px;
                width: 1px;
            }
            .progress-bar .seperator p{
                position: absolute;
                font-size: 14px;
                top: 20px;
            }
            .progress-bar .seperator.last{
                right: 0px;
            }
            .progress-bar .seperator.last p{
                top: 0px;
                left: -20px;
                font-size: 24px;
            }
            .bar{
                position: relative;
                box-sizing: border-box;
                height: 100%;
                background: repeating-linear-gradient(90deg,#FFEBB1,#FFEBB1 3px,#FF5500 3px,#FF5500 4px);
                border-top: 1px solid #ff5500;
                border-bottom: 1px solid #ff5500;
            }
            .bar::after{
                content: '';
                position: absolute;
                top: -6px;
                right: 0;
                width: 3px;
                height: calc(100% + 12px);
                background: linear-gradient(rgba(255,255,255,0),rgba(255,255,255,1) 20%,rgba(255,255,255,1) 80%,rgba(255,255,255,0) 100%);
                animation-name: flicker;
                animation-duration: 1s;
                animation-iteration-count: infinite;
            }
            @keyframes flicker {
                0%{opacity: 0.2;top:50%;height: 0;}
                50%{opacity: 0.5;}
                100%{opacity: 0;top: -9px;height: calc(100% + 18px);}
            }
            .battlepass .progress-bar::after{
                position: absolute;
                content: '';
                top: -2px;
                height: calc(100% + 4px);
                left: 0;
                width: 100%;
                transition: left .5s,width .5s,background .5s;
                background: repeating-linear-gradient(90deg,rgba(0,0,0),rgba(0,0,0) calc(100%/150),rgba(255,255,255) calc(100%/150),rgba(255,255,255) calc(100%/75));
                opacity: 0.05;
            }
            .battlepass .progress-bar::before{
                position: absolute;
                content: '';
                box-sizing: border-box;
                border-left: 1px rgba(100,100,100,0.5) dotted;
                border-right: 1px rgba(100,100,100,0.5) dotted;
                height: calc(100% + 10px);;
                top: -5px;
                width: calc(100%/3);
                left: calc(100%/3);
                transition: left .5s,width .5s,background .5s;
            }
            .target-discount,.current-exp{
                position: relative;
                width: 80%;
                margin-left: 10%;
                margin-top: 20px;
                padding: 2px;
            }
            #targetDiscountSlider,#currentExpSlider{
                width: 100%;
            }
            .show-discount{
                flex-basis: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .show-discount h3{
                padding-right:2rem ;
            }
            .slider-container{
                flex-basis: 90%;
                flex-grow: 1;
                margin: 0 5% 20px 5%;
            }
            .slider-container h3{
                margin: 0;
            }
            /* server selector */
            .server-info{
                display: flex;
                justify-content: center;
                flex-direction: row;
                align-items: center;
                border: 1px solid #deb887;
                box-sizing: border-box;
                width: 96%;
                margin: 2%;
            }
            .server-selector{
                flex-grow: 1;
            }
            .server-selector h3{
                color: #fff;
                margin: 5px;
            }
            .server-selector .server-radio-group{
                display: flex;
                justify-content: space-evenly;
            }
            .server-selector .server-radio{
                float: left;
                width: 50px;
            }
            .server-selector label{
                text-align: left;
            }
            .info{
                flex-grow: 1;
                color: #deb887;
                margin: 10px;
                justify-content: left;
            }
            .info h3,.info h2{
                font-size: 18px;
                margin: 5px;
            }
            /* end of server selector */
            .target{
                width: 50%;
                float: left;
                flex-grow: 1;
                flex-basis: 250px;
            }
            .target h2{
                font-size: 20px;
                margin: 0px;
            }
            .target h1,.warning h1{
                color: #deb887;
                font-size: 42px;
                margin: 0px;
            }
            .target-lv{
                width: 100%;
                flex-basis: 100%;
            }
            .target-daily-average h1{
                color: aquamarine;
            }
            input::-webkit-outer-spin-button,
            input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
            }
            input[type=number] {
            -moz-appearance: textfield;
            }
            .current-point input{
                color: aquamarine;
                font-family: bebas neue;
                font-size: 42px;
                width: 40%;
                min-width: 100px;
                text-align: center;
                background: none;
                border:3px solid rgb(85, 85, 85);
                border-radius: 10px;
            }
            .credit{
                position:fixed;
                bottom: 3%; 
                width: 100%;
                font-size: 64px;
                margin: 0px;
                display: flex;
                justify-content: center;
            }
            .credit a{
                text-decoration: none;
                font-size: 18px;
                text-align: center;
                color: #8b8b8b;
            }
            .output{
                display: none;
                flex-wrap: wrap;
            }
            .battlePoint{
                
            }
        </style>
        <script data-ad-client="ca-pub-6155063328860394" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="logo-s"></div>
        <ul class="btn-list">
        </ul>
    </div>
    <div class="container">
        <h1 class="title">title</h1>
        <div class="server-info">
            <div class="server-selector">
                <h3>Select your server:</h3>
                <div class="server-radio-group">
                    <div class="server-radio"><input id="server1" type="radio" name="server" value="ASIA" checked=true/><label for="server1">ASIA</label></div>
                    <div class="server-radio"><input id="server2" type="radio" name="server" value="EU"/><label for="server2">EU</label></div>
                    <div class="server-radio"><input id="server3" type="radio" name="server" value="US"/><label for="server3">US</label></div>
                    <div class="server-radio"><input id="server4" type="radio" name="server" value="RU"/><label for="server4">RU</label></div>
                </div>
            </div>
            <div class="info">
                <h2 class="date-start">Start：</h2>
                <h2 class="date-end">End：</h2>
                <h3 class="date-current">current time</h3>
            </div>
        </div>
        <div class="warning">
            <h1></h1>
        </div>
        <div class="output battlepass">
            <div class="progress-bar">
                <div class="bar"></div>
            </div>
            <div class="target target-lv">
                <h2>You should be at</h2>
                <h1>55</h1>
            </div>
            <div class="target current-point">
                <h2>your current progression point</h2>
                <input name="currentBattlepass" id="currentBattlepass" type="number" value=""></input>
            </div>
            <div class="target daily-average">
                <h2>Daily avg. progression</h2>
                <h1>2772</h1>
            </div>
        </div>
        <div class="output marathon">
            <div class="progress-bar">
                <div class="bar"></div>
                <div class="seperator"><p>-10%</p></div>
                <div class="seperator"><p>-20%</p></div>
                <div class="seperator"><p>-30%</p></div>
                <div class="seperator"><p>-40%</p></div>
                <div class="seperator"><p>-50%</p></div>
                <div class="seperator"><p>-60%</p></div>
                <div class="seperator"><p>-70%</p></div>
                <div class="seperator"><p>-80%</p></div>
                <div class="seperator"><p>-90%</p></div>
                <div class="seperator"><p>-100%</p></div>
            </div>
            <div class="show-discount">
                <h3>Show discount in: </h3>
                <select id="showDiscount" value="0">
                    <option value="0">percentage</option>
                    <!-- <option value="CNY">CNY</option>
                    <option value="USD">USD</option>
                    <option value="EURO">EURO</option> -->
                </select>
            </div>
            <div class="slider-container">
                <h3>Move slider to choose your target level</h3>
                <input type="range" id="targetDiscountSlider" min="1" max="10" value="5" class="slider">
            </div>
            <div class="slider-container">
                <h3>Move slider to match your current progress</h3>
                <input type="range" id="currentExpSlider" min="0" max="1250" value="0" class="slider">
            </div>
            <div class="target current-exp-num">
                <h2>You are at:</h2>
                <h1></h1>
            </div>
            <div class="target target-exp">
                <h2>You should be at:</h2>
                <h1></h1>
            </div>
            <div class="target daily-average">
                <h2>Daily average</h2>
                <h1></h1>
            </div>
        </div>
    </div>
    <div class="credit">
        <a href="https://worldoftanks.asia/en/community/accounts/2002340856-BorisX/">BorisX[NRC-A]</a>
    </div>
<script>
    // constructor for different types of event
    function Marathon(eventData){
        this.eventData = eventData
        this.timer = timer(this.eventData)
        this.discountDisplay=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]
        this.display={
            currentExp:document.querySelector('.marathon .current-exp-num').children[1],
            targetExp:document.querySelector('.marathon .target-exp').children[1],
            dailyAverage:document.querySelector('.marathon .daily-average').children[1],
            dateStart:document.querySelector('.info').children[0],
            dateEnd:document.querySelector('.info').children[1],
            dateCurrent:document.querySelector('.date-current'),
            progressBar:document.querySelector('.marathon .progress-bar'),
            seperator:document.querySelectorAll('.seperator')
        },
        this.controller={
            targetDiscountSlider:document.querySelector('#targetDiscountSlider'),
            currentExpSlider:document.querySelector('#currentExpSlider'),
            showDiscount:document.querySelector('#showDiscount')
        },
        this.stageCalc = (input)=>{
            let stage
            let stageExp
            for(var i=0;i<this.eventData.expSum.length;i++){
                if(input - this.eventData.expSum[i] > 0){
                    i++
                }
                if(input - this.eventData.expSum[i] < 0 && i>0){
                    stageExp = input - this.eventData.expSum[i-1]
                    stage = i+1
                    return [stage,Number(stageExp).toLocaleString()]
                }
                if(input - this.eventData.expSum[i] < 0 && i==0){
                    stageExp = input
                    stage = 1
                    return [stage,Number(stageExp).toLocaleString()]
                }
                if(input - this.eventData.expSum[i] == 0){
                    stageExp = input
                    stage = i+1
                    return [stage,Number(stageExp).toLocaleString()]
                }
            }
        },
        this.update = ()=>{
            this.timer.timeUpdate()
            document.querySelectorAll('.output').forEach(el=>{
                el.style.display = 'none'
            })
            document.querySelector('.warning').children[0].innerHTML=''
            //change the way seperator is displayed
            this.display.seperator.forEach((item,i)=>{
                if (this.controller.showDiscount.value == 0) {
                    item.children[0].innerHTML='-'+this.discountDisplay[i]*100+'%'
                }else{
                    item.children[0].innerHTML=this.eventData.price[this.controller.showDiscount.value][1]+Math.floor((1-this.discountDisplay[i])*this.eventData.price[this.controller.showDiscount.value][0]*100)/100
                }
                item.classList.remove('last')
            })
            //update times in the info section
            let dateStart = this.timer.timeParse('start')
            let dateEnd = this.timer.timeParse('end')
            let dateCurrent = this.timer.timeParse('current')
            this.display.dateStart.innerHTML = 'Start:'+dateStart[0]+'-'+dateStart[1]+'-'+dateStart[2]+' '+dateStart[3]+':00 UTC+'+dateStart[6]
            this.display.dateEnd.innerHTML = 'End:'+dateEnd[0]+'-'+dateEnd[1]+'-'+dateEnd[2]+' '+dateEnd[3]+':00 UTC+'+dateEnd[6]
            this.display.dateCurrent.innerHTML = 'Current Time:'+dateCurrent[0]+'-'+dateCurrent[1]+'-'+dateCurrent[2]+' '+dateCurrent[3]+':'+dateCurrent[4]+':'+dateCurrent[5]+' UTC+'+dateCurrent[6]
            //check if the event is ongoing
            if(this.timer.ongoing()[0] == 2){
                document.querySelector('.output.marathon').style.display = 'flex'
                //calculate where player should be at
                let targetDiscount = this.controller.targetDiscountSlider.value
                let targetSum = this.eventData.expSum[targetDiscount-1]
                let targetExp = Math.ceil(targetSum*this.timer.timeProgress())
                if(targetExp <= this.eventData.expSum[9]){
                    this.display.targetExp.innerHTML ='Stage '+this.stageCalc(targetExp)[0]+' - '+this.stageCalc(targetExp)[1]
                }
                if(targetExp > this.eventData.expSum[9]){
                    this.display.targetExp.innerHTML ='Stage 10 - 250,000'
                }
                //update progress bar
                this.display.progressBar.children[0].style.width = this.timer.timeProgress()*100+'%'
                for(var i=1;i<=10;i++){
                    this.display.progressBar.children[i].style.display = 'none'
                    if(i<=targetDiscount){
                        this.display.progressBar.children[i].style.left = this.eventData.expSum[i-1]/targetSum*100+'%'
                        this.display.progressBar.children[i].style.display = 'block'
                    }
                }
                this.display.seperator[targetDiscount-1].classList.add('last')
                //update player's current progress
                let currentExp = this.controller.currentExpSlider.value*200
                this.display.currentExp.innerHTML = 'Stage '+this.stageCalc(currentExp)[0]+' - '+this.stageCalc(currentExp)[1]
                //update daily average
                let dailyExp = Math.ceil((targetSum-currentExp)/((this.timer.timeTotal()-this.timer.timePassed())/1000/60/60/24))
                if(dailyExp<=0){
                    this.display.dailyAverage.innerHTML = 0
                }
                if(dailyExp>0){
                    this.display.dailyAverage.innerHTML = Number(dailyExp).toLocaleString()
                }
            }
            else{
                document.querySelector('.output').style.display = 'none'
                document.querySelector('.warning').children[0].innerHTML = this.timer.ongoing()[1]
            }
        }
    }
    function Battlepass(eventData){
        this.eventData = eventData
        this.timer = timer(this.eventData)
        this.display={
            // targetPoint:document.querySelector('.battlepass .target-point').children[1],
            targetLevel:document.querySelector('.battlepass .target-lv').children[1],
            currentPoint:document.querySelector('.battlepass .current-point').children[1],
            dailyAverage:document.querySelector('.battlepass .daily-average').children[1],
            progressBar:document.querySelector('.battlepass .progress-bar')
        },
        this.update=()=>{
            this.timer.timeUpdate()
            document.querySelectorAll('.output').forEach(el=>{
                el.style.display = 'none'
            })
            document.querySelector('.warning').children[0].innerHTML=''
            //check if the event is ongoing
            if(this.timer.ongoing()[0] == 2){
                document.querySelector('.output.battlepass').style.display = 'flex'
                let targetPoint = Math.floor(eventData.totalPoint*this.timer.timeProgress());
                let targetLevel = [Math.ceil(targetPoint/50),targetPoint%50];
                let input = parseInt(this.display.currentPoint.value)
                //custom progression
                let currentPoint;
                if (isNaN(input) || input == 0) {
                    currentPoint = targetPoint
                }else{
                    currentPoint = input
                };
                let average = Math.ceil((eventData.totalPoint - currentPoint)/(this.timer.timeRemaining()/86400000));
                this.display.progressBar.children[0].style.width = this.timer.timeProgress()*100+'%';
                // this.display.targetPoint.innerHTML = targetPoint;
                this.display.targetLevel.innerHTML ='<lower>chapter</lower> '+Math.ceil(targetLevel[0]/50)+' <lower>stage</lower> '+targetLevel[0]%50+' + '+targetLevel[1]+'<lower>pt.</lower> ( '+targetPoint+"<lower>pt. total</lower>  )";
                this.display.dailyAverage.innerHTML = average+'<lower>pt.</lower>';
            }
            else{
                document.querySelector('.output').style.display = 'none'
                document.querySelector('.warning').children[0].innerHTML = this.timer.ongoing()[1]
            }
        }
    }
    // time calculation related functions
    var timer = function(eventData){
        ongoing = function(server=this.server()){
            let dateStart = eventData.timespan[server][0]
            let dateEnd = eventData.timespan[server][1]
            let dateCurrent = this.timeCurrent()
            if(dateCurrent>dateEnd){
                return [0,'Event has ended!']
            }
            else if(dateCurrent<dateStart){
                let countdown = parseInt(this.timePassed()/-1000)
                let day = parseInt(countdown/86400)
                let hour = parseInt(countdown/3600)%24
                let minute = parseInt(countdown/60)%60
                let second = countdown%60
                return [1,'Event will start in '+day+':'+hour+':'+minute+':'+second]
            }
            else{
                return [2]
            }
        }
        server = function(){
            return document.querySelector('input[name=server]:checked').value
        }
        timeCurrent = function(){
            let date =  new Date()
            // add offset for debug use
            // date.setDate(date.getDate() + 2);
            return date;
        }
        timeUpdate = function(){
            //update times in the info section
            let dateStart = this.timeParse('start')
            let dateEnd = this.timeParse('end')
            let dateCurrent = this.timeParse('current')
            document.querySelector('.info .date-start').innerHTML = 'Start:'+dateStart[0]+'-'+dateStart[1]+'-'+dateStart[2]+' '+dateStart[3]+':00 UTC+'+dateStart[6]
            document.querySelector('.info .date-end').innerHTML = 'End:'+dateEnd[0]+'-'+dateEnd[1]+'-'+dateEnd[2]+' '+dateEnd[3]+':00 UTC+'+dateEnd[6]
            document.querySelector('.info .date-current').innerHTML = 'Current Time:'+dateCurrent[0]+'-'+dateCurrent[1]+'-'+dateCurrent[2]+' '+dateCurrent[3]+':'+dateCurrent[4]+':'+dateCurrent[5]+' UTC+'+dateCurrent[6]
        },
        timeTotal = function(server=this.server()){
            return eventData.timespan[server][1] - eventData.timespan[server][0]
        },
        timePassed = function(server=this.server()){
            return this.timeCurrent() - eventData.timespan[server][0]
        },
        timeRemaining = function(server=this.server()){
            return eventData.timespan[server][1] - this.timeCurrent()
        },
        timeProgress = function(server=this.server()){
            return this.timePassed(server) / this.timeTotal(server)
        },
        timeParse = function(i){
            let time
            switch (i) {
                case 'start':
                    time = eventData.timespan[this.server()][0]
                    break;
                case 'end':
                    time = eventData.timespan[this.server()][1]
                    break;
                case 'current':
                    time = this.timeCurrent()
                    break;
                default:
                    break;
            }
            return [time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),time.getTimezoneOffset()/-60]
        }
        return{
            ongoing:ongoing,
            server:server,
            timeCurrent:timeCurrent,
            timeUpdate:timeUpdate,
            timeTotal:timeTotal,
            timePassed:timePassed,
            timeRemaining,timeRemaining,
            timeProgress:timeProgress,
            timeParse:timeParse,
        }
    }
    // event data input
    var eventData={
        // legacy data
        // battlepass4:{
        //     title:'battlepass season IV calculator',
        //     timespan:{
        //     ASIA:[new Date('2021/03/15 06:00:00 UTC+8'),new Date('2021/06/22 02:00:00  UTC+8')],
        //     US:[new Date('2021/03/15 04:00:00 UTC-8'),new Date('2021/06/22 00:30:00  UTC-8')],
        //     EU:[new Date('2021/03/15 04:00:00 UTC+2'),new Date('2021/06/23 02:30:00  UTC+2')],
        //     RU:[new Date('2021/03/15 04:00:00 UTC+3'),new Date('2021/06/23 03:30:00  UTC+3')]
        //     },
        //     totalPoint:7500,
        //     mode:Battlepass
        // },
        // battlepass5:{
        //     title:'battlepass season V calculator',
        //     thumbnail:'url("http://sg-wotp.wgcdn.co/dcont/fb/image/npi_battle_pass_season_5_615x346.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2021/06/22 05:00:00 UTC+8'),new Date('2021/09/06 06:00:00  UTC+8')],
        //     US:[new Date('2021/06/22 04:00:00 UTC-7'),new Date('2021/09/06 03:30:00  UTC-7')],
        //     EU:[new Date('2021/06/23 08:30:00 UTC+2'),new Date('2021/09/06 06:30:00  UTC+2')],
        //     RU:[new Date('2021/06/23 11:30:00 UTC+3'),new Date('2021/09/06 06:30:00  UTC+3')]
        //     },
        //     totalPoint:7500,
        //     mode:Battlepass
        // },
        // strvkMarathon:{
        //     title:'Strv K Marathon calculator',
        //     thumbnail:'url("http://sg-wotp.wgcdn.co/dcont/fb/image/sabaton_615x346_xyxd85s.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2021/08/27 09:00:00 UTC+8'),new Date('2021/09/06 09:00:00  UTC+8')],
        //     US:[new Date('2021/08/27 06:00:00 UTC-7'),new Date('2021/09/06 01:00:00  UTC-7')],
        //     EU:[new Date('2021/08/27 10:00:00 UTC+2'),new Date('2021/09/06 10:00:00  UTC+2')],
        //     RU:[new Date('2021/08/27 09:00:00 UTC+3'),new Date('2021/09/06 09:00:00  UTC+3')]
        //     },
        //     expSum:[3000,9000,18000,36000,66000,98000,131000,166000,209000,262000],
        //     price:{
        //         CNY:[606,'¥'],
        //         USD:[91.07,'$'],
        //         EURO:[75.67,'€']
        //     },
        //     mode:Marathon
        // },
        // battlepass6:{
        //     title:'battlepass season VI calculator',
        //     thumbnail:'url("http://sg-wotp.wgcdn.co/dcont/fb/image/npi_battle_pass_season_6_615x346.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2021/09/06 06:00:00 UTC+8'),new Date('2021/12/07 02:00:00  UTC+8')],
        //     US:[new Date('2021/09/06 03:00:00 UTC-7'),new Date('2021/12/06 23:00:00  UTC-8')],
        //     EU:[new Date('2021/09/06 07:00:00 UTC+2'),new Date('2021/12/08 01:30:00  UTC+1')],
        //     RU:[new Date('2021/09/06 07:00:00 UTC+3'),new Date('2021/12/08 03:30:00  UTC+3')]
        //     },
        //     totalPoint:7500,
        //     mode:Battlepass
        // },
        // altProtoMarathon:{
        //     title:'AltProto AMX 30 Marathon calculator',
        //     thumbnail:'url("http://sg-wotp.wgcdn.co/dcont/fb/image/thumb_615x346_winter_marathon.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2021/11/26 09:00:00 UTC+8'),new Date('2021/12/06 09:00:00  UTC+8')],
        //     US:[new Date('2021/11/26 00:00:00 UTC-8'),new Date('2021/12/06 00:00:00  UTC-8')],
        //     EU:[new Date('2021/11/26 09:00:00 UTC+1'),new Date('2021/12/06 09:00:00  UTC+1')],
        //     RU:[new Date('2021/11/26 09:00:00 UTC+3'),new Date('2021/12/06 09:00:00  UTC+3')]
        //     },
        //     expSum:[3000,8000,17000,34000,62000,92000,124000,160000,200000,250000],
        //     price:{
        //         CNY:[606,'¥'],
        //         USD:[91.07,'$'],
        //         EURO:[75.67,'€']
        //     },
        //     mode:Marathon
        // },
        // WZ114Marathon:{
        //     title:'WZ-114 Marathon calculator',
        //     thumbnail:'url("http:////sg-wotp.wgcdn.co/dcont/fb/image/microsoftteams-image_%284%29_4Ns9STt.png")',
        //     timespan:{
        //     ASIA:[new Date('2022/01/28 09:00:00 UTC+8'),new Date('2022/02/07 09:00:00  UTC+8')],
        //     US:[new Date('2022/01/28 06:00:00 UTC-8'),new Date('2022/02/07 06:00:00  UTC-8')],
        //     EU:[new Date('2022/01/28 09:00:00 UTC+1'),new Date('2021/02/07 10:00:00  UTC+1')],
        //     RU:[new Date('2022/01/28 09:00:00 UTC+3'),new Date('2021/02/07 09:00:00  UTC+3')]
        //     },
        //     expSum:[3000,9000,19000,37000,67000,99000,132000,168000,211000,264000],
        //     price:{
        //         CNY:[606,'¥'],
        //         USD:[91.07,'$'],
        //         EURO:[75.67,'€']
        //     },
        //     mode:Marathon
        // },
        // battlepass7:{
        //     title:'battlepass season VII calculator',
        //     thumbnail:'url("https://content-wg.gcdn.co/locdoc/rich-article/bp_s7/img/bg_bp_7_fin_sm2.185c4e.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2022/03/01 07:00:00 UTC+8'),new Date('2022/05/30 08:30:00  UTC+8')],
        //     US:[new Date('2022/03/01 05:00:00 UTC-7'),new Date('2022/05/29 17:30:00  UTC-8')],
        //     EU:[new Date('2022/03/02 07:30:00 UTC+1'),new Date('2022/05/30 02:30:00  UTC+2')],
        //     RU:[new Date('2022/03/02 10:30:00 UTC+3'),new Date('2022/05/30 03:30:00  UTC+3')]
        //     },
        //     totalPoint:7500,
        //     mode:Battlepass
        // },
        // battlepass8:{
        //     title:'battlepass season VIII calculator',
        //     thumbnail:'url("https://eu-wotp.wgcdn.co/dcont/fb/image/615x346_corevid-772_battle_pass_s8_teaser.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2022/05/31 04:30:00 UTC+8'),new Date('2022/08/30 08:30:00  UTC+8')],
        //     US:[new Date('2022/05/31 05:03:00 UTC-8'),new Date('2022/08/30 00:30:00  UTC-8')],
        //     EU:[new Date('2022/06/01 07:30:00 UTC+2'),new Date('2022/08/31 02:30:00  UTC+2')],
        //     RU:[new Date('2022/06/08 07:00:00 UTC+3'),new Date('2022/08/31 03:30:00  UTC+3')]
        //     },
        //     totalPoint:7500,
        //     mode:Battlepass
        // },
        //battlepass9:{
        //    title:'battlepass season IX calculator',
        //    thumbnail:'url("https://sg-wotp.wgcdn.co/dcont/fb/image/battle_pass_s9_615x346.jpg")',
        //    timespan:{
        //    ASIA:[new Date('2022/09/08 06:00:00 UTC+8'),new Date('2022/11/29 02:00:00  UTC+8')],
        //    US:[new Date('2022/09/08 03:00:00 UTC-7'),new Date('2022/11/29 23:30:00  UTC-8')],
        //    EU:[new Date('2022/09/08 07:00:00 UTC+2'),new Date('2022/11/30 01:30:00  UTC+1')],
        //    RU:[new Date('2022/09/08 07:00:00 UTC+3'),new Date('2022/11/30 03:30:00  UTC+3')]
        //    },
        //    totalPoint:7500,
        //    mode:Battlepass
        //},
        // battlepassT2:{
        //     title:'battlepass judgement day calculator',
        //     thumbnail:'url("https://sg-wotp.wgcdn.co/dcont/fb/image/615x346_judgment_day_lore_matters.jpg")',
        //     timespan:{
        //     ASIA:[new Date('2023/01/12 05:00:00 UTC+8'),new Date('2023/01/26 05:00:00  UTC+8')],
        //     US:[new Date('2023/01/12 01:00:00 UTC-8'),new Date('2023/01/26 01:00:00  UTC-8')],
        //     EU:[new Date('2023/01/12 05:00:00 UTC+1'),new Date('2023/01/26 05:00:00  UTC+1')]
        //     },
        //     totalPoint:2500,
        //     mode:Battlepass
        // },
        battlepass10:{
           title:'battlepass season X calculator',
           thumbnail:'url("https://sg-wotp.wgcdn.co/dcont/fb/image/battle_pass_s10_615x346.jpg")',
           timespan:{
           ASIA:[new Date('2023/02/28 07:00:00 UTC+8'),new Date('2023/05/30 12:00:00  UTC+8')],
           US:[new Date('2023/02/28 05:00:00 UTC-8'),new Date('2023/05/30 12:00:00  UTC-8')],
           EU:[new Date('2023/03/01 07:30:00 UTC+1'),new Date('2023/05/31 12:00:00  UTC+1')],
           RU:[new Date('2023/03/06 15:00:00 UTC+3'),new Date('2023/06/05 06:00:00  UTC+3')]
           },
           totalPoint:7500,
           mode:Battlepass
        }
    }
    // change webpage title
    function setTitle(input){
        document.title = input
        document.querySelector('.title').innerHTML = input
    }
    // startup function
    function init(){
        // clear out navbar buttons
        document.querySelector('.btn-list').innerHTML = ''
        // initialize obj
        window.events = {}
        // create object and nav-btn from each eventData entry
        Object.entries(eventData).forEach((event)=>{
            events[event[0]] = new event[1].mode(event[1])
            // generate new buttons
            var btn = document.createElement('li')
            btn.id = 'btn-'+event[0]
            btn.classList.add('nav-btn')
            btn.style.background = event[1].thumbnail
            btn.innerHTML = event[1].title
            btn.addEventListener('click',function(){
                chosenEvent = event[0]
                setTitle(event[1].title)
            })
            document.querySelector('.btn-list').append(btn)
        })
        // default setting
        var chosenEvent = Object.keys(events)[0]
        setTitle(Object.entries(events)[0][1].eventData.title)
        // UI update loop
        clearInterval(window.loop)
        window.loop = setInterval(()=>{
            events[chosenEvent].update()
        },1000)
    }
    document.addEventListener("DOMContentLoaded", init())
</script>
</body></html>